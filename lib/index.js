!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("@wonderlandlabs/propper")):"function"==typeof define&&define.amd?define(["@wonderlandlabs/propper"],r):(t=t||self).LGE=r(t.propper)}(this,(function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,e)};function e(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function n(t){return"function"==typeof t}var o=!1,s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;o=t},get useDeprecatedSynchronousErrorHandling(){return o}};function i(t){setTimeout((function(){throw t}),0)}var u={closed:!0,next:function(t){},error:function(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;i(t)},complete:function(){}},a=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function c(t){return null!==t&&"object"==typeof t}var h=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,r){return r+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),l=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var r;if(!this.closed){var e=this._parentOrParents,o=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof t)e.remove(this);else if(null!==e)for(var i=0;i<e.length;++i){e[i].remove(this)}if(n(o))try{o.call(this)}catch(t){r=t instanceof h?f(t.errors):[t]}if(a(s)){i=-1;for(var u=s.length;++i<u;){var l=s[i];if(c(l))try{l.unsubscribe()}catch(t){r=r||[],t instanceof h?r=r.concat(f(t.errors)):r.push(t)}}}if(r)throw new h(r)}},t.prototype.add=function(r){var e=r;if(!r)return t.EMPTY;switch(typeof r){case"function":e=new t(r);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof t)){var n=e;(e=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var o=e._parentOrParents;if(null===o)e._parentOrParents=this;else if(o instanceof t){if(o===this)return e;e._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return e;o.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e},t.prototype.remove=function(t){var r=this._subscriptions;if(r){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function f(t){return t.reduce((function(t,r){return t.concat(r instanceof h?r.errors:r)}),[])}var p=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),d=function(t){function r(e,n,o){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=u;break;case 1:if(!e){s.destination=u;break}if("object"==typeof e){e instanceof r?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(s)):(s.syncErrorThrowable=!0,s.destination=new b(s,e));break}default:s.syncErrorThrowable=!0,s.destination=new b(s,e,n,o)}return s}return e(r,t),r.prototype[p]=function(){return this},r.create=function(t,e,n){var o=new r(t,e,n);return o.syncErrorThrowable=!1,o},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},r}(l),b=function(t){function r(r,e,o,s){var i,a=t.call(this)||this;a._parentSubscriber=r;var c=a;return n(e)?i=e:e&&(i=e.next,o=e.error,s=e.complete,e!==u&&(n((c=Object.create(e)).unsubscribe)&&a.add(c.unsubscribe.bind(c)),c.unsubscribe=a.unsubscribe.bind(a))),a._context=c,a._next=i,a._error=o,a._complete=s,a}return e(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber,e=s.useDeprecatedSynchronousErrorHandling;if(this._error)e&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(r.syncErrorThrowable)e?(r.syncErrorValue=t,r.syncErrorThrown=!0):i(t),this.unsubscribe();else{if(this.unsubscribe(),e)throw t;i(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var e=function(){return t._complete.call(t._context)};s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?(this.__tryOrSetError(r,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(t){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw t;i(t)}},r.prototype.__tryOrSetError=function(t,r,e){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,e)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(i(r),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(d);var y=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function v(t){return t}function _(t){return 0===t.length?v:1===t.length?t[0]:function(r){return t.reduce((function(t,r){return r(t)}),r)}}var g=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(t,r,e){var n=this.operator,o=function(t,r,e){if(t){if(t instanceof d)return t;if(t[p])return t[p]()}return t||r||e?new d(t,r,e):new d(u)}(t,r,e);if(n?o.add(n.call(o,this.source)):o.add(this.source||s.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),s.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),!function(t){for(;t;){var r=t,e=r.closed,n=r.destination,o=r.isStopped;if(e||o)return!1;t=n&&n instanceof d?n:null}return!0}(t)?console.warn(r):t.error(r)}},t.prototype.forEach=function(t,r){var e=this;return new(r=m(r))((function(r,n){var o;o=e.subscribe((function(r){try{t(r)}catch(t){n(t),o&&o.unsubscribe()}}),n,r)}))},t.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},t.prototype[y]=function(){return this},t.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 0===t.length?this:_(t)(this)},t.prototype.toPromise=function(t){var r=this;return new(t=m(t))((function(t,e){var n;r.subscribe((function(t){return n=t}),(function(t){return e(t)}),(function(){return t(n)}))}))},t.create=function(r){return new t(r)},t}();function m(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}var w=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),S=function(t){function r(r,e){var n=t.call(this)||this;return n.subject=r,n.subscriber=e,n.closed=!1,n}return e(r,t),r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,r=t.observers;if(this.subject=null,r&&0!==r.length&&!t.isStopped&&!t.closed){var e=r.indexOf(this.subscriber);-1!==e&&r.splice(e,1)}}},r}(l),x=function(t){function r(r){var e=t.call(this,r)||this;return e.destination=r,e}return e(r,t),r}(d),E=function(t){function r(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e(r,t),r.prototype[p]=function(){return new x(this)},r.prototype.lift=function(t){var r=new P(this,this);return r.operator=t,r},r.prototype.next=function(t){if(this.closed)throw new w;if(!this.isStopped)for(var r=this.observers,e=r.length,n=r.slice(),o=0;o<e;o++)n[o].next(t)},r.prototype.error=function(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var r=this.observers,e=r.length,n=r.slice(),o=0;o<e;o++)n[o].error(t);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new w;this.isStopped=!0;for(var t=this.observers,r=t.length,e=t.slice(),n=0;n<r;n++)e[n].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(r){if(this.closed)throw new w;return t.prototype._trySubscribe.call(this,r)},r.prototype._subscribe=function(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),l.EMPTY):this.isStopped?(t.complete(),l.EMPTY):(this.observers.push(t),new S(this,t))},r.prototype.asObservable=function(){var t=new g;return t.source=this,t},r.create=function(t,r){return new P(t,r)},r}(g),P=function(t){function r(r,e){var n=t.call(this)||this;return n.destination=r,n.source=e,n}return e(r,t),r.prototype.next=function(t){var r=this.destination;r&&r.next&&r.next(t)},r.prototype.error=function(t){var r=this.destination;r&&r.error&&this.destination.error(t)},r.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},r.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):l.EMPTY},r}(E),O=function(t){function r(r){var e=t.call(this)||this;return e._value=r,e}return e(r,t),Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),r.prototype._subscribe=function(r){var e=t.prototype._subscribe.call(this,r);return e&&!e.closed&&r.next(this._value),e},r.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value},r.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},r}(E),j=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.notifyNext=function(t,r,e,n,o){this.destination.next(r)},r.prototype.notifyError=function(t,r){this.destination.error(t)},r.prototype.notifyComplete=function(t){this.destination.complete()},r}(d),T=function(t){function r(r,e,n){var o=t.call(this)||this;return o.parent=r,o.outerValue=e,o.outerIndex=n,o.index=0,o}return e(r,t),r.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},r.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},r}(d);function $(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var A=$();var V=function(t){if(t&&"function"==typeof t[y])return s=t,function(t){var r=s[y]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)};if((o=t)&&"number"==typeof o.length&&"function"!=typeof o)return n=t,function(t){for(var r=0,e=n.length;r<e&&!t.closed;r++)t.next(n[r]);t.complete()};if(function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}(t))return e=t,function(t){return e.then((function(r){t.closed||(t.next(r),t.complete())}),(function(r){return t.error(r)})).then(null,i),t};if(t&&"function"==typeof t[A])return r=t,function(t){for(var e=r[A]();;){var n=e.next();if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof e.return&&t.add((function(){e.return&&e.return()})),t};var r,e,n,o,s,u=c(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+u+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};var k=function(){function t(t,r){this.keySelector=t,this.flushes=r}return t.prototype.call=function(t,r){return r.subscribe(new z(t,this.keySelector,this.flushes))},t}(),z=function(t){function r(r,e,n){var o=t.call(this,r)||this;return o.keySelector=e,o.values=new Set,n&&o.add(function(t,r,e,n,o){if(void 0===o&&(o=new T(t,e,n)),!o.closed)return r instanceof g?r.subscribe(o):V(r)(o)}(o,n)),o}return e(r,t),r.prototype.notifyNext=function(t,r,e,n,o){this.values.clear()},r.prototype.notifyError=function(t,r){this._error(t)},r.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},r.prototype._useKeySelector=function(t){var r,e=this.destination;try{r=this.keySelector(t)}catch(t){return void e.error(t)}this._finalizeNext(r,t)},r.prototype._finalizeNext=function(t,r){var e=this.values;e.has(t)||(e.add(t),this.destination.next(r))},r}(j);var C=function(){function t(){}return t.prototype.call=function(t,r){return r.subscribe(new M(t))},t}(),M=function(t){function r(r){var e=t.call(this,r)||this;return e.hasPrev=!1,e}return e(r,t),r.prototype._next=function(t){var r;this.hasPrev?r=[this.prev,t]:this.hasPrev=!0,this.prev=t,r&&this.destination.next(r)},r}(d);var D=function(t){return t};const N=Symbol("ABSENT"),H=t=>t&&t!==N,q=t=>t!==N&&void 0!==t,F=t=>t!==N,U=t=>t===N;var R=Array.isArray,Y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},I="object"==typeof Y&&Y&&Y.Object===Object&&Y,L="object"==typeof self&&self&&self.Object===Object&&self,B=I||L||Function("return this")(),G=B.Symbol,J=Object.prototype,K=J.hasOwnProperty,Q=J.toString,W=G?G.toStringTag:void 0;var X=function(t){var r=K.call(t,W),e=t[W];try{t[W]=void 0;var n=!0}catch(t){}var o=Q.call(t);return n&&(r?t[W]=e:delete t[W]),o},Z=Object.prototype.toString;var tt=function(t){return Z.call(t)},rt="[object Null]",et="[object Undefined]",nt=G?G.toStringTag:void 0;var ot=function(t){return null==t?void 0===t?et:rt:nt&&nt in Object(t)?X(t):tt(t)};var st=function(t){return null!=t&&"object"==typeof t},it="[object Symbol]";var ut=function(t){return"symbol"==typeof t||st(t)&&ot(t)==it},at=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ct=/^\w*$/;var ht=function(t,r){if(R(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!ut(t))||(ct.test(t)||!at.test(t)||null!=r&&t in Object(r))};var lt=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)},ft="[object AsyncFunction]",pt="[object Function]",dt="[object GeneratorFunction]",bt="[object Proxy]";var yt,vt=function(t){if(!lt(t))return!1;var r=ot(t);return r==pt||r==dt||r==ft||r==bt},_t=B["__core-js_shared__"],gt=(yt=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||""))?"Symbol(src)_1."+yt:"";var mt=function(t){return!!gt&&gt in t},wt=Function.prototype.toString;var St=function(t){if(null!=t){try{return wt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},xt=/^\[object .+?Constructor\]$/,Et=Function.prototype,Pt=Object.prototype,Ot=Et.toString,jt=Pt.hasOwnProperty,Tt=RegExp("^"+Ot.call(jt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var $t=function(t){return!(!lt(t)||mt(t))&&(vt(t)?Tt:xt).test(St(t))};var At=function(t,r){return null==t?void 0:t[r]};var Vt=function(t,r){var e=At(t,r);return $t(e)?e:void 0},kt=Vt(Object,"create");var zt=function(){this.__data__=kt?kt(null):{},this.size=0};var Ct=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},Mt="__lodash_hash_undefined__",Dt=Object.prototype.hasOwnProperty;var Nt=function(t){var r=this.__data__;if(kt){var e=r[t];return e===Mt?void 0:e}return Dt.call(r,t)?r[t]:void 0},Ht=Object.prototype.hasOwnProperty;var qt=function(t){var r=this.__data__;return kt?void 0!==r[t]:Ht.call(r,t)},Ft="__lodash_hash_undefined__";var Ut=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=kt&&void 0===r?Ft:r,this};function Rt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Rt.prototype.clear=zt,Rt.prototype.delete=Ct,Rt.prototype.get=Nt,Rt.prototype.has=qt,Rt.prototype.set=Ut;var Yt=Rt;var It=function(){this.__data__=[],this.size=0};var Lt=function(t,r){return t===r||t!=t&&r!=r};var Bt=function(t,r){for(var e=t.length;e--;)if(Lt(t[e][0],r))return e;return-1},Gt=Array.prototype.splice;var Jt=function(t){var r=this.__data__,e=Bt(r,t);return!(e<0)&&(e==r.length-1?r.pop():Gt.call(r,e,1),--this.size,!0)};var Kt=function(t){var r=this.__data__,e=Bt(r,t);return e<0?void 0:r[e][1]};var Qt=function(t){return Bt(this.__data__,t)>-1};var Wt=function(t,r){var e=this.__data__,n=Bt(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};function Xt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Xt.prototype.clear=It,Xt.prototype.delete=Jt,Xt.prototype.get=Kt,Xt.prototype.has=Qt,Xt.prototype.set=Wt;var Zt=Xt,tr=Vt(B,"Map");var rr=function(){this.size=0,this.__data__={hash:new Yt,map:new(tr||Zt),string:new Yt}};var er=function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var nr=function(t,r){var e=t.__data__;return er(r)?e["string"==typeof r?"string":"hash"]:e.map};var or=function(t){var r=nr(this,t).delete(t);return this.size-=r?1:0,r};var sr=function(t){return nr(this,t).get(t)};var ir=function(t){return nr(this,t).has(t)};var ur=function(t,r){var e=nr(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};function ar(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}ar.prototype.clear=rr,ar.prototype.delete=or,ar.prototype.get=sr,ar.prototype.has=ir,ar.prototype.set=ur;var cr=ar,hr="Expected a function";function lr(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError(hr);var e=function(){var n=arguments,o=r?r.apply(this,n):n[0],s=e.cache;if(s.has(o))return s.get(o);var i=t.apply(this,n);return e.cache=s.set(o,i)||s,i};return e.cache=new(lr.Cache||cr),e}lr.Cache=cr;var fr=lr,pr=500;var dr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,br=/\\(\\)?/g,yr=function(t){var r=fr(t,(function(t){return e.size===pr&&e.clear(),t})),e=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(dr,(function(t,e,n,o){r.push(n?o.replace(br,"$1"):e||t)})),r}));var vr=function(t,r){for(var e=-1,n=null==t?0:t.length,o=Array(n);++e<n;)o[e]=r(t[e],e,t);return o},_r=1/0,gr=G?G.prototype:void 0,mr=gr?gr.toString:void 0;var wr=function t(r){if("string"==typeof r)return r;if(R(r))return vr(r,t)+"";if(ut(r))return mr?mr.call(r):"";var e=r+"";return"0"==e&&1/r==-_r?"-0":e};var Sr=function(t){return null==t?"":wr(t)};var xr=function(t,r){return R(t)?t:ht(t,r)?[t]:yr(Sr(t))},Er=1/0;var Pr=function(t){if("string"==typeof t||ut(t))return t;var r=t+"";return"0"==r&&1/t==-Er?"-0":r};var Or=function(t,r){for(var e=0,n=(r=xr(r,t)).length;null!=t&&e<n;)t=t[Pr(r[e++])];return e&&e==n?t:void 0};var jr=function(t,r,e){var n=null==t?void 0:Or(t,r);return void 0===n?e:n},Tr=function(){try{var t=Vt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var $r=function(t,r,e){"__proto__"==r&&Tr?Tr(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e},Ar=Object.prototype.hasOwnProperty;var Vr=function(t,r,e){var n=t[r];Ar.call(t,r)&&Lt(n,e)&&(void 0!==e||r in t)||$r(t,r,e)},kr=9007199254740991,zr=/^(?:0|[1-9]\d*)$/;var Cr=function(t,r){var e=typeof t;return!!(r=null==r?kr:r)&&("number"==e||"symbol"!=e&&zr.test(t))&&t>-1&&t%1==0&&t<r};var Mr=function(t,r,e,n){if(!lt(t))return t;for(var o=-1,s=(r=xr(r,t)).length,i=s-1,u=t;null!=u&&++o<s;){var a=Pr(r[o]),c=e;if(o!=i){var h=u[a];void 0===(c=n?n(h,a,u):void 0)&&(c=lt(h)?h:Cr(r[o+1])?[]:{})}Vr(u,a,c),u=u[a]}return t};var Dr=function(t,r,e){for(var n=-1,o=r.length,s={};++n<o;){var i=r[n],u=Or(t,i);e(u,i)&&Mr(s,xr(i,t),u)}return s};var Nr=function(t,r){return null!=t&&r in Object(t)},Hr="[object Arguments]";var qr=function(t){return st(t)&&ot(t)==Hr},Fr=Object.prototype,Ur=Fr.hasOwnProperty,Rr=Fr.propertyIsEnumerable,Yr=qr(function(){return arguments}())?qr:function(t){return st(t)&&Ur.call(t,"callee")&&!Rr.call(t,"callee")},Ir=9007199254740991;var Lr=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ir};var Br=function(t,r,e){for(var n=-1,o=(r=xr(r,t)).length,s=!1;++n<o;){var i=Pr(r[n]);if(!(s=null!=t&&e(t,i)))break;t=t[i]}return s||++n!=o?s:!!(o=null==t?0:t.length)&&Lr(o)&&Cr(i,o)&&(R(t)||Yr(t))};var Gr=function(t,r){return null!=t&&Br(t,r,Nr)};var Jr=function(t,r){return Dr(t,r,(function(r,e){return Gr(t,e)}))};var Kr=function(t,r){for(var e=-1,n=r.length,o=t.length;++e<n;)t[o+e]=r[e];return t},Qr=G?G.isConcatSpreadable:void 0;var Wr=function(t){return R(t)||Yr(t)||!!(Qr&&t&&t[Qr])};var Xr=function t(r,e,n,o,s){var i=-1,u=r.length;for(n||(n=Wr),s||(s=[]);++i<u;){var a=r[i];e>0&&n(a)?e>1?t(a,e-1,n,o,s):Kr(s,a):o||(s[s.length]=a)}return s};var Zr=function(t){return(null==t?0:t.length)?Xr(t,1):[]};var te=function(t,r,e){switch(e.length){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)},re=Math.max;var ee=function(t,r,e){return r=re(void 0===r?t.length-1:r,0),function(){for(var n=arguments,o=-1,s=re(n.length-r,0),i=Array(s);++o<s;)i[o]=n[r+o];o=-1;for(var u=Array(r+1);++o<r;)u[o]=n[o];return u[r]=e(i),te(t,this,u)}};var ne=function(t){return function(){return t}},oe=Tr?function(t,r){return Tr(t,"toString",{configurable:!0,enumerable:!1,value:ne(r),writable:!0})}:D,se=800,ie=16,ue=Date.now;var ae=function(t){var r=0,e=0;return function(){var n=ue(),o=ie-(n-e);if(e=n,o>0){if(++r>=se)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}(oe);var ce=function(t){return ae(ee(t,void 0,Zr),t+"")}((function(t,r){return null==t?{}:Jr(t,r)}));class he{constructor(t,r=N){this.value=t,q(r)&&("string"==typeof r.name&&(this.name=r.name),this.trans=!!r.trans,this.prev=r.prev,this.error=r.error,this.target=r.target)}endTrans(){this.target?this.target.endTrans(this):console.warn("message has no target: ,",this)}get message(){return this.error?"string"==typeof this.error?this.error:"object"==typeof this.error&&this.error.error&&"string"==typeof this.error.error?this.error.error:"":""}toJSON(){const t=ce(this,"target,name,value,complete,prev,trans,error".split(","));return t.message=this.message,"object"==typeof t.target&&t.target.name&&(t.target=t.target.name),t}}t.proppify(he).addProp("target",null).addProp("name","").addProp("value",null).addProp("complete",!1).addProp("prev",N).addProp("trans",!1,"boolean").addProp("error",null);var le=1/0;var fe=function(t){return(null==t?0:t.length)?Xr(t,le):[]};function pe(t,r="invalid ValueStream name"){if(!t||!q(t)||"string"!=typeof t&&"number"!=typeof t){const e=new Error(r);throw F(t)?e.name=t:e.name=void 0,e}}const de=new Map,be=(t,r)=>(r&&"function"==typeof r&&de.set(t,r),de.get(t));be("string",t=>"string"!=typeof t&&"value must be a string"),be("number",t=>"number"!=typeof t&&"value must be a number"),be("nan",t=>"number"==typeof t&&!Number.isNaN(t)&&"value must be not a number"),be("integer",t=>!Number.isSafeInteger(t)&&"value must be an integer");const ye=/^!(.*)$/;class ve{constructor(t=N,r=N,e=N){this.name=t,this._value=N;try{this._setValue(r)}catch(t){this._value=N}H(e)&&(this.filter=e)}get name(){return this._name}set name(t){pe(t,"cannot initialize ValueStream with bad name"),this._name=t}hasValidName(){try{return pe(this.name),!0}catch(t){return!1}}get value(){if(this._value!==N)return this._value}_setValue(t){let r=this.validate(t,!0);if(r){Array.isArray(r)&&(r=r.join(", "));const t=new Error(`attempt to set ${this.name} to bad value`);throw t.error=r,t}this._value=t}validate(t=N,r=!1){try{if(U(t)&&(t=this.value),U(t))return r?null:[];if(!H(this.filter)||U(t))return!1;const e=fe([this.filter]),n=this._validateList(e,t);return r?!!n.length&&(1===n.length?n.pop():n):n}catch(t){console.log("error validating type:",t)}return!1}_validateList(t,r){return t.reduce((t,e)=>{const n=this._validateFilter(e,r,t);return n?[...t,n]:t},[])}_validateFilter(t,r,e){if("function"==typeof t)return t(r,e,this);if("string"==typeof t){if(ye.test(t)){const n=ye.exec(t)[1];return!this._validateFilter(n,r,e)&&`${this.name} cannot be a ${n}`}const n=be(t);if(!n)return`cannot parse type ${t}`;if(n(r))return`${this.name} must be a ${t}`}return!1}}t.proppify(ve).addProp("filter",N);class _e extends ve{constructor(t=N,r=N,e=N){super(t,r,e)}get $changes(){return this._changes||(this._changes=new E),this._changes}next(...t){let r=!1;try{r=this.makeMessage(...t),this.isComplete?r.error="Attempt to update a completed stream":this.$requests.next(r)}catch(t){(r=t).error=t.message}return r}nextPromise(...t){let r;try{r=this.next(...t)}catch(t){(r=t).error=t.message}return new Promise((t,e)=>{r.error?e(r):t(r)})}makeMessage(t=N,r=N){const e=H(r)&&"object"==typeof r?r:{};return new he(t,{...e,name:this.name,target:this})}get $requests(){return this.__requests||(this.__requests=new E,this.subSet.add(this.__requests.subscribe(this._onRequest.bind(this),t=>{console.log("request submission error:",t)}))),this.__requests}_onRequest(t){if(t.complete||U(t.value))return t;t.prev=this.value,t.trans&&t.startTrans();try{this._setValue(t.value)}catch({message:r,error:e}){t.error=e||r,this.errors.next(t)}return t.error?(t.trans&&t.endTrans(),t):(this.$changes.next(t),this.hasTranses?this.pendingChanges=!0:this._broadcastChange(t),t.trans&&t.endTrans(),t)}_broadcastChange(t){this._$updater.next(t)}get errors(){var t,r;return this._errors||(this._errors=(new E).pipe((function(e){return e.lift(new k(t,r))}))),this._errors}get hasTranses(){return!!this._transes&&this._transes.size}get _$transes(){return this.hasTranses||(this._transes=new Set),this._transes}startTrans(t){return t||(t=this.makeMessage(N,{trans:!0})),this._$transes.add(t),this._broadcastTrans(),t}endTrans(t){this._$transes.has(t)&&(this._$transes.delete(t),this._broadcastTrans())}_broadcastTrans(){this._$transStream.next(this._$transes.size)}get _$transStream(){return this.__transStream||(this.__transStream=new O(this._$transes.size),this.subSet.add(this.__transStream.pipe((function(t){return t.lift(new C)})).subscribe(([t,r])=>{this.pendingChanges&&t&&!r&&(this.pendingChanges=!1,this._broadcastChange())}))),this.__transStream}get _$updater(){return this.__updater||(this.__updater=new O(this)),this.__updater}subscribe(t=D,r=D,e=D){r&&this.subSet.add(this.errors.subscribe(r,r));const n=this._$updater.subscribe(()=>{t(this)},r,e);return this.subSet.add(n),n}get isComplete(){return!!this._completed}complete(){this._completed=!0;try{Array.from(this.subSet).forEach(t=>{t.unsubscribe(),this.subSet.delete(t)})}catch(t){console.log("complete error: ",t)}}}t.proppify(_e).addProp("pendingChanges",!1,"boolean").addProp("subSet",()=>new Set);var ge=function(t,r,e){var n=-1,o=t.length;r<0&&(r=-r>o?0:o+r),(e=e>o?o:e)<0&&(e+=o),o=r>e?0:e-r>>>0,r>>>=0;for(var s=Array(o);++n<o;)s[n]=t[n+r];return s};var me=function(t,r,e){var n=t.length;return e=void 0===e?n:e,!r&&e>=n?t:ge(t,r,e)},we=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Se=function(t){return we.test(t)};var xe=function(t){return t.split("")},Ee="[\\ud800-\\udfff]",Pe="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Oe="\\ud83c[\\udffb-\\udfff]",je="[^\\ud800-\\udfff]",Te="(?:\\ud83c[\\udde6-\\uddff]){2}",$e="[\\ud800-\\udbff][\\udc00-\\udfff]",Ae="(?:"+Pe+"|"+Oe+")"+"?",Ve="[\\ufe0e\\ufe0f]?"+Ae+("(?:\\u200d(?:"+[je,Te,$e].join("|")+")[\\ufe0e\\ufe0f]?"+Ae+")*"),ke="(?:"+[je+Pe+"?",Pe,Te,$e,Ee].join("|")+")",ze=RegExp(Oe+"(?="+Oe+")|"+ke+Ve,"g");var Ce=function(t){return t.match(ze)||[]};var Me=function(t){return Se(t)?Ce(t):xe(t)};var De=function(t){return function(r){r=Sr(r);var e=Se(r)?Me(r):void 0,n=e?e[0]:r.charAt(0),o=e?me(e,1).join(""):r.slice(1);return n[t]()+o}}("toUpperCase");const Ne="undefined"!=typeof Proxy;class He extends _e{constructor(t,r=N,e=N){super(t),H(r)&&"object"==typeof r&&this._initValues(r),H(e)&&"object"==typeof e&&this._initMethods(e),this.next(this.value)}_initMethods(t){Object.keys(t).forEach(r=>{const e=t[r];Array.isArray(e)?this.addMethod(r,...e):this.addMethod(r,e)})}_initValues(t){Object.keys(t).forEach(r=>{const e=t[r];Array.isArray(e)?this.addStream(r,...e):this.addStream(r,e)})}setFilter(t,r){return this.streams[t].filter=r,this}_updateStreamValue(t,r){this.streams.get(t).next(r)}get value(){return this._genValue()}get my(){return Ne?(this._valueProxy||(this._valueProxy=this._genValueProxy()),this._valueProxy):this._genValue()}_genValueProxy(){const t=this;return new Proxy({},{get(r,e){const n=t.streams.get(e);if(n)return n.value}})}_genValue(){const t={};return this.streams.forEach(r=>t[r.name]=r.value),t}clearCache(){delete this._valueProxy,delete this._do,delete this._propSetters}property(...t){return this.addStream(...t)}subscribe(t,...r){return super.subscribe(()=>{t(this)},...r)}addStream(t,r=N,e=N){if(this.streams.has(t))throw new Error(`${this.name}: cannot redefine property ${t}`);const n=new _e(t,r,e);return this.subSet.add(n.subscribe(()=>{this.next(this.value)},t=>{t instanceof he&&(t=t.toJSON()),this.errors.next({store:this.name,source:n.name,error:t})})),this.streams.set(t,n),delete this._propSetters,this.clearCache(),this}method(...t){return this.addMethod(...t)}addMethod(t,r,e=N){const n=jr(e,"bind",!1),o=jr(e,"trans",!1),s=jr(e,"throws",!1);if(this.methods.has(t))throw new Error(`${this.name}: cannot redefine method ${t}`);const i=n?r.bind(this):(...t)=>r(this,...t);return s?this.methods.set(t,(...t)=>o?this.throwTrans(i,...t):this.throws(i,...t)):this.methods.set(t,(...t)=>o?this._tryTrans(i,...t):this.try(i,...t)),this.clearCache(),this}_tryTrans(t,...r){const e=this.startTrans(),n=this.try(t,...r);return e.endTrans(),n}try(t,...r){let e;try{e=t(...r)}catch(t){this.errors.next(t)}return e}throws(t,...r){let e,n=!1,o=this.subscribe(()=>{},t=>{n=t});try{e=t(...r)}catch(t){o.unsubscribe(),o=null,t!==n&&(this.errors.next(t),n=t)}if(o&&o.unsubscribe(),n)throw n;return e}throwTrans(t,...r){let e;const n=this.startTrans();let o=!1;try{e=this.throws(t,...r)}catch(t){o=t}if(n.endTrans(),o)throw o;return e}get do(){return this._do||(this._do=Ne?this._genDoProxy():this._genDo()),this._do}get _$propSetters(){return this._propSetters||(this._propSetters={},this.streams.forEach(t=>{const r=`set${De(t.name)}`;this._propSetters[r]=r=>t.next(r);const e=`${r}_ot`;this._propSetters[e]=t=>{const n=this.throws(()=>this._propSetters[r](t));return console.log(e,"returned",n),n}})),this._propSetters}_genDoProxy(){const t=this;return new Proxy({},{get:(r,e)=>t._$propSetters[e]?t._$propSetters[e]:t.methods.get(e)})}_genDo(){const t={...this._$propSetters};return this.methods.forEach((r,e)=>{t[e]=r}),t}}return t.proppify(He).addProp("methods",()=>new Map).addProp("streams",()=>new Map),{ValueStream:_e,Value:ve,ValueStore:He,ABSENT:N,validators:be}}));

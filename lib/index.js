!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@wonderlandlabs/validators"),require("@wonderlandlabs/propper"),require("os"),require("tty"),require("crypto")):"function"==typeof define&&define.amd?define(["@wonderlandlabs/validators","@wonderlandlabs/propper","os","tty","crypto"],e):(t=t||self).LGE=e(t.validators,t.propper,t.os,t.tty,t.crypto)}(this,(function(t,e,r,n,o){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function i(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function c(t){return"function"==typeof t}var u=!1,a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;u=t},get useDeprecatedSynchronousErrorHandling(){return u}};function l(t){setTimeout((function(){throw t}),0)}var h={closed:!0,next:function(t){},error:function(t){if(a.useDeprecatedSynchronousErrorHandling)throw t;l(t)},complete:function(){}},p=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function f(t){return null!==t&&"object"==typeof t}var b=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),d=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this._parentOrParents,n=this._ctorUnsubscribe,o=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var i=0;i<r.length;++i){r[i].remove(this)}if(c(o)){n&&(this._unsubscribe=void 0);try{o.call(this)}catch(t){e=t instanceof b?y(t.errors):[t]}}if(p(s)){i=-1;for(var u=s.length;++i<u;){var a=s[i];if(f(a))try{a.unsubscribe()}catch(t){e=e||[],t instanceof b?e=e.concat(y(t.errors)):e.push(t)}}}if(e)throw new b(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof t){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function y(t){return t.reduce((function(t,e){return t.concat(e instanceof b?e.errors:e)}),[])}var g=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),m=function(t){function e(r,n,o){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=h;break;case 1:if(!r){s.destination=h;break}if("object"==typeof r){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new v(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new v(s,r,n,o)}return s}return i(e,t),e.prototype[g]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(d),v=function(t){function e(e,r,n,o){var s,i=t.call(this)||this;i._parentSubscriber=e;var u=i;return c(r)?s=r:r&&(s=r.next,n=r.error,o=r.complete,r!==h&&(c((u=Object.create(r)).unsubscribe)&&i.add(u.unsubscribe.bind(u)),u.unsubscribe=i.unsubscribe.bind(i))),i._context=u,i._next=s,i._error=n,i._complete=o,i}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=a.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):l(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;l(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),a.useDeprecatedSynchronousErrorHandling)throw t;l(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(l(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(m);var w=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function _(t){return t}function x(t){return 0===t.length?_:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var E=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=function(t,e,r){if(t){if(t instanceof m)return t;if(t[g])return t[g]()}return t||e||r?new m(t,e,r):new m(h)}(t,e,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||a.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,r=e.closed,n=e.destination,o=e.isStopped;if(r||o)return!1;t=n&&n instanceof m?n:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=k(e))((function(e,n){var o;o=r.subscribe((function(e){try{t(e)}catch(t){n(t),o&&o.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[w]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:x(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=k(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function k(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}var S=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),O=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(d),j=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return i(e,t),e}(m),M=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[g]=function(){return new j(this)},e.prototype.lift=function(t){var e=new P(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new S;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new S;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new S;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new O(this,t))},e.prototype.asObservable=function(){var t=new E;return t.source=this,t},e.create=function(t,e){return new P(t,e)},e}(E),P=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):d.EMPTY},e}(M),C=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(M);function A(t){return t&&"function"==typeof t.schedule}var T=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function R(t,e){return e?function(t,e){return new E((function(r){var n=new d,o=0;return n.add(e.schedule((function(){o!==t.length?(r.next(t[o++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}(t,e):new E(T(t))}function B(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new I(t,e))}}var I=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new V(t,this.project,this.thisArg))},t}(),V=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(m),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(m),N=function(t){function e(e,r,n){var o=t.call(this)||this;return o.parent=e,o.outerValue=r,o.outerIndex=n,o.index=0,o}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(m);function $(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var q=$();var U=function(t){if(t&&"function"==typeof t[w])return o=t,function(t){var e=o[w]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((n=t)&&"number"==typeof n.length&&"function"!=typeof n)return T(t);if(function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}(t))return r=t,function(t){return r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,l),t};if(t&&"function"==typeof t[q])return e=t,function(t){for(var r=e[q]();;){var n=void 0;try{n=r.next()}catch(e){return t.error(e),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof r.return&&t.add((function(){r.return&&r.return()})),t};var e,r,n,o,s=f(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+s+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function z(t,e,r,n,o){if(void 0===o&&(o=new N(t,r,n)),!o.closed)return e instanceof E?e.subscribe(o):U(e)(o)}var H={};var L=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Y(t,this.resultSelector))},t}(),Y=function(t){function e(e,r){var n=t.call(this,e)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return i(e,t),e.prototype._next=function(t){this.values.push(H),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(z(this,n,void 0,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r){var n=this.values,o=n[r],s=this.toRespond?o===H?--this.toRespond:this.toRespond:0;n[r]=e,0===s&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(D);var F=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new G(t,this.predicate,this.thisArg))},t}(),G=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=n,o.count=0,o}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(m);const W=Symbol("ABSENT"),K=t=>t,J=(new C(null),t()),Q=J.is("function"),X=J.is("array"),Z=J.is("object"),tt=J.is("string");J.is("number"),J.is("map"),J.is("set");function et(t,e){return function(r){return r.lift(new rt(t,e))}}var rt=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new nt(t,this.compare,this.keySelector))},t}(),nt=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.keySelector=n,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return i(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var r=this.keySelector;e=r?r(t):t}catch(t){return this.destination.error(t)}var n=!1;if(this.hasKey)try{n=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))},e}(m);var ot={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const st={};for(const t of Object.keys(ot))st[ot[t]]=t;const it={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var ct=it;for(const t of Object.keys(it)){if(!("channels"in it[t]))throw new Error("missing channels property: "+t);if(!("labels"in it[t]))throw new Error("missing channel labels property: "+t);if(it[t].labels.length!==it[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:r}=it[t];delete it[t].channels,delete it[t].labels,Object.defineProperty(it[t],"channels",{value:e}),Object.defineProperty(it[t],"labels",{value:r})}function ut(t){const e=function(){const t={},e=Object.keys(ct);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}(),r=[t];for(e[t].distance=0;r.length;){const t=r.pop(),n=Object.keys(ct[t]);for(let o=n.length,s=0;s<o;s++){const o=n[s],i=e[o];-1===i.distance&&(i.distance=e[t].distance+1,i.parent=t,r.unshift(o))}}return e}function at(t,e){return function(r){return e(t(r))}}function lt(t,e){const r=[e[t].parent,t];let n=ct[e[t].parent][t],o=e[t].parent;for(;e[o].parent;)r.unshift(e[o].parent),n=at(ct[e[o].parent][o],n),o=e[o].parent;return n.conversion=r,n}it.rgb.hsl=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,o=Math.min(e,r,n),s=Math.max(e,r,n),i=s-o;let c,u;s===o?c=0:e===s?c=(r-n)/i:r===s?c=2+(n-e)/i:n===s&&(c=4+(e-r)/i),c=Math.min(60*c,360),c<0&&(c+=360);const a=(o+s)/2;return u=s===o?0:a<=.5?i/(s+o):i/(2-s-o),[c,100*u,100*a]},it.rgb.hsv=function(t){let e,r,n,o,s;const i=t[0]/255,c=t[1]/255,u=t[2]/255,a=Math.max(i,c,u),l=a-Math.min(i,c,u),h=function(t){return(a-t)/6/l+.5};return 0===l?(o=0,s=0):(s=l/a,e=h(i),r=h(c),n=h(u),i===a?o=n-r:c===a?o=1/3+e-n:u===a&&(o=2/3+r-e),o<0?o+=1:o>1&&(o-=1)),[360*o,100*s,100*a]},it.rgb.hwb=function(t){const e=t[0],r=t[1];let n=t[2];const o=it.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[o,100*s,100*n]},it.rgb.cmyk=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,o=Math.min(1-e,1-r,1-n);return[100*((1-e-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*o]},it.rgb.keyword=function(t){const e=st[t];if(e)return e;let r,n=1/0;for(const e of Object.keys(ot)){const i=(s=ot[e],((o=t)[0]-s[0])**2+(o[1]-s[1])**2+(o[2]-s[2])**2);i<n&&(n=i,r=e)}var o,s;return r},it.keyword.rgb=function(t){return ot[t]},it.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124*e+.3576*r+.1805*n),100*(.2126*e+.7152*r+.0722*n),100*(.0193*e+.1192*r+.9505*n)]},it.rgb.lab=function(t){const e=it.rgb.xyz(t);let r=e[0],n=e[1],o=e[2];r/=95.047,n/=100,o/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;return[116*n-16,500*(r-n),200*(n-o)]},it.hsl.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;let o,s,i;if(0===r)return i=255*n,[i,i,i];o=n<.5?n*(1+r):n+r-n*r;const c=2*n-o,u=[0,0,0];for(let t=0;t<3;t++)s=e+1/3*-(t-1),s<0&&s++,s>1&&s--,i=6*s<1?c+6*(o-c)*s:2*s<1?o:3*s<2?c+(o-c)*(2/3-s)*6:c,u[t]=255*i;return u},it.hsl.hsv=function(t){const e=t[0];let r=t[1]/100,n=t[2]/100,o=r;const s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,o*=s<=1?s:2-s;return[e,100*(0===n?2*o/(s+o):2*r/(n+r)),100*((n+r)/2)]},it.hsv.rgb=function(t){const e=t[0]/60,r=t[1]/100;let n=t[2]/100;const o=Math.floor(e)%6,s=e-Math.floor(e),i=255*n*(1-r),c=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,o){case 0:return[n,u,i];case 1:return[c,n,i];case 2:return[i,n,u];case 3:return[i,c,n];case 4:return[u,i,n];case 5:return[n,i,c]}},it.hsv.hsl=function(t){const e=t[0],r=t[1]/100,n=t[2]/100,o=Math.max(n,.01);let s,i;i=(2-r)*n;const c=(2-r)*o;return s=r*o,s/=c<=1?c:2-c,s=s||0,i/=2,[e,100*s,100*i]},it.hwb.rgb=function(t){const e=t[0]/360;let r=t[1]/100,n=t[2]/100;const o=r+n;let s;o>1&&(r/=o,n/=o);const i=Math.floor(6*e),c=1-n;s=6*e-i,0!=(1&i)&&(s=1-s);const u=r+s*(c-r);let a,l,h;switch(i){default:case 6:case 0:a=c,l=u,h=r;break;case 1:a=u,l=c,h=r;break;case 2:a=r,l=c,h=u;break;case 3:a=r,l=u,h=c;break;case 4:a=u,l=r,h=c;break;case 5:a=c,l=r,h=u}return[255*a,255*l,255*h]},it.cmyk.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100,o=t[3]/100;return[255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o))]},it.xyz.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100;let o,s,i;return o=3.2406*e+-1.5372*r+-.4986*n,s=-.9689*e+1.8758*r+.0415*n,i=.0557*e+-.204*r+1.057*n,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),i=Math.min(Math.max(0,i),1),[255*o,255*s,255*i]},it.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*r-16,500*(e-r),200*(r-n)]},it.lab.xyz=function(t){let e,r,n;r=(t[0]+16)/116,e=t[1]/500+r,n=r-t[2]/200;const o=r**3,s=e**3,i=n**3;return r=o>.008856?o:(r-16/116)/7.787,e=s>.008856?s:(e-16/116)/7.787,n=i>.008856?i:(n-16/116)/7.787,e*=95.047,r*=100,n*=108.883,[e,r,n]},it.lab.lch=function(t){const e=t[0],r=t[1],n=t[2];let o;o=360*Math.atan2(n,r)/2/Math.PI,o<0&&(o+=360);return[e,Math.sqrt(r*r+n*n),o]},it.lch.lab=function(t){const e=t[0],r=t[1],n=t[2]/360*2*Math.PI;return[e,r*Math.cos(n),r*Math.sin(n)]},it.rgb.ansi16=function(t,e=null){const[r,n,o]=t;let s=null===e?it.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),0===s)return 30;let i=30+(Math.round(o/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return 2===s&&(i+=60),i},it.hsv.ansi16=function(t){return it.rgb.ansi16(it.hsv.rgb(t),t[2])},it.rgb.ansi256=function(t){const e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},it.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},it.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},it.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},it.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];3===e[0].length&&(r=r.split("").map(t=>t+t).join(""));const n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},it.rgb.hcg=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,o=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),i=o-s;let c,u;return c=i<1?s/(1-i):0,u=i<=0?0:o===e?(r-n)/i%6:o===r?2+(n-e)/i:4+(e-r)/i,u/=6,u%=1,[360*u,100*i,100*c]},it.hsl.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r);let o=0;return n<1&&(o=(r-.5*n)/(1-n)),[t[0],100*n,100*o]},it.hsv.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=e*r;let o=0;return n<1&&(o=(r-n)/(1-n)),[t[0],100*n,100*o]},it.hcg.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;if(0===r)return[255*n,255*n,255*n];const o=[0,0,0],s=e%1*6,i=s%1,c=1-i;let u=0;switch(Math.floor(s)){case 0:o[0]=1,o[1]=i,o[2]=0;break;case 1:o[0]=c,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=i;break;case 3:o[0]=0,o[1]=c,o[2]=1;break;case 4:o[0]=i,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=c}return u=(1-r)*n,[255*(r*o[0]+u),255*(r*o[1]+u),255*(r*o[2]+u)]},it.hcg.hsv=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);let n=0;return r>0&&(n=e/r),[t[0],100*n,100*r]},it.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],100*n,100*r]},it.hcg.hwb=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},it.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,n=r-e;let o=0;return n<1&&(o=(r-n)/(1-n)),[t[0],100*n,100*o]},it.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},it.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},it.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},it.gray.hsl=function(t){return[0,0,t[0]]},it.gray.hsv=it.gray.hsl,it.gray.hwb=function(t){return[0,100,t[0]]},it.gray.cmyk=function(t){return[0,0,0,t[0]]},it.gray.lab=function(t){return[t[0],0,0]},it.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},it.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const ht={};Object.keys(ct).forEach(t=>{ht[t]={},Object.defineProperty(ht[t],"channels",{value:ct[t].channels}),Object.defineProperty(ht[t],"labels",{value:ct[t].labels});const e=function(t){const e=ut(t),r={},n=Object.keys(e);for(let t=n.length,o=0;o<t;o++){const t=n[o];null!==e[t].parent&&(r[t]=lt(t,e))}return r}(t);Object.keys(e).forEach(r=>{const n=e[r];ht[t][r]=function(t){const e=function(...e){const r=e[0];if(null==r)return r;r.length>1&&(e=r);const n=t(e);if("object"==typeof n)for(let t=n.length,e=0;e<t;e++)n[e]=Math.round(n[e]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(n),ht[t][r].raw=function(t){const e=function(...e){const r=e[0];return null==r?r:(r.length>1&&(e=r),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)})});var pt=ht,ft=function(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}((function(t){const e=(t,e)=>(...r)=>`[${t(...r)+e}m`,r=(t,e)=>(...r)=>{const n=t(...r);return`[${38+e};5;${n}m`},n=(t,e)=>(...r)=>{const n=t(...r);return`[${38+e};2;${n[0]};${n[1]};${n[2]}m`},o=t=>t,s=(t,e,r)=>[t,e,r],i=(t,e,r)=>{Object.defineProperty(t,e,{get:()=>{const n=r();return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let c;const u=(t,e,r,n)=>{void 0===c&&(c=pt);const o=n?10:0,s={};for(const[n,i]of Object.entries(c)){const c="ansi16"===n?"ansi":n;n===e?s[c]=t(r,o):"object"==typeof i&&(s[c]=t(i[e],o))}return s};Object.defineProperty(t,"exports",{enumerable:!0,get:function(){const t=new Map,c={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};c.color.gray=c.color.blackBright,c.bgColor.bgGray=c.bgColor.bgBlackBright,c.color.grey=c.color.blackBright,c.bgColor.bgGrey=c.bgColor.bgBlackBright;for(const[e,r]of Object.entries(c)){for(const[e,n]of Object.entries(r))c[e]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[e]=c[e],t.set(n[0],n[1]);Object.defineProperty(c,e,{value:r,enumerable:!1})}return Object.defineProperty(c,"codes",{value:t,enumerable:!1}),c.color.close="[39m",c.bgColor.close="[49m",i(c.color,"ansi",()=>u(e,"ansi16",o,!1)),i(c.color,"ansi256",()=>u(r,"ansi256",o,!1)),i(c.color,"ansi16m",()=>u(n,"rgb",s,!1)),i(c.bgColor,"ansi",()=>u(e,"ansi16",o,!0)),i(c.bgColor,"ansi256",()=>u(r,"ansi256",o,!0)),i(c.bgColor,"ansi16m",()=>u(n,"rgb",s,!0)),c}})})),bt=(t,e=process.argv)=>{const r=t.startsWith("-")?"":1===t.length?"-":"--",n=e.indexOf(r+t),o=e.indexOf("--");return-1!==n&&(-1===o||n<o)};const{env:dt}=process;let yt;function gt(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function mt(t,e){if(0===yt)return 0;if(bt("color=16m")||bt("color=full")||bt("color=truecolor"))return 3;if(bt("color=256"))return 2;if(t&&!e&&void 0===yt)return 0;const n=yt||0;if("dumb"===dt.TERM)return n;if("win32"===process.platform){const t=r.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in dt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in dt)||"codeship"===dt.CI_NAME?1:n;if("TEAMCITY_VERSION"in dt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(dt.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in dt)return 1;if("truecolor"===dt.COLORTERM)return 3;if("TERM_PROGRAM"in dt){const t=parseInt((dt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(dt.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(dt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(dt.TERM)||"COLORTERM"in dt?1:n}bt("no-color")||bt("no-colors")||bt("color=false")||bt("color=never")?yt=0:(bt("color")||bt("colors")||bt("color=true")||bt("color=always"))&&(yt=1),"FORCE_COLOR"in dt&&(yt="true"===dt.FORCE_COLOR?1:"false"===dt.FORCE_COLOR?0:0===dt.FORCE_COLOR.length?1:Math.min(parseInt(dt.FORCE_COLOR,10),3));var vt={supportsColor:function(t){return gt(mt(t,t&&t.isTTY))},stdout:gt(mt(!0,n.isatty(1))),stderr:gt(mt(!0,n.isatty(2)))};var wt={stringReplaceAll:(t,e,r)=>{let n=t.indexOf(e);if(-1===n)return t;const o=e.length;let s=0,i="";do{i+=t.substr(s,n-s)+e+r,s=n+o,n=t.indexOf(e,s)}while(-1!==n);return i+=t.substr(s),i},stringEncaseCRLFWithFirstIndex:(t,e,r,n)=>{let o=0,s="";do{const i="\r"===t[n-1];s+=t.substr(o,(i?n-1:n)-o)+e+(i?"\r\n":"\n")+r,o=n+1,n=t.indexOf("\n",o)}while(-1!==n);return s+=t.substr(o),s}};const _t=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,xt=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,Et=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,kt=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,St=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function Ot(t){const e="u"===t[0],r="{"===t[1];return e&&!r&&5===t.length||"x"===t[0]&&3===t.length?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):St.get(t)||t}function jt(t,e){const r=[],n=e.trim().split(/\s*,\s*/g);let o;for(const e of n){const n=Number(e);if(Number.isNaN(n)){if(!(o=e.match(Et)))throw new Error(`Invalid Chalk template style argument: ${e} (in style '${t}')`);r.push(o[2].replace(kt,(t,e,r)=>e?Ot(e):r))}else r.push(n)}return r}function Mt(t){xt.lastIndex=0;const e=[];let r;for(;null!==(r=xt.exec(t));){const t=r[1];if(r[2]){const n=jt(t,r[2]);e.push([t].concat(n))}else e.push([t])}return e}function Pt(t,e){const r={};for(const t of e)for(const e of t.styles)r[e[0]]=t.inverse?null:e.slice(1);let n=t;for(const[t,e]of Object.entries(r))if(Array.isArray(e)){if(!(t in n))throw new Error("Unknown Chalk style: "+t);n=e.length>0?n[t](...e):n[t]}return n}var Ct=(t,e)=>{const r=[],n=[];let o=[];if(e.replace(_t,(e,s,i,c,u,a)=>{if(s)o.push(Ot(s));else if(c){const e=o.join("");o=[],n.push(0===r.length?e:Pt(t,r)(e)),r.push({inverse:i,styles:Mt(c)})}else if(u){if(0===r.length)throw new Error("Found extraneous } in Chalk template literal");n.push(Pt(t,r)(o.join(""))),o=[],r.pop()}else o.push(a)}),n.push(o.join("")),r.length>0){const t=`Chalk template literal is missing ${r.length} closing bracket${1===r.length?"":"s"} (\`}\`)`;throw new Error(t)}return n.join("")};const{stdout:At,stderr:Tt}=vt,{stringReplaceAll:Rt,stringEncaseCRLFWithFirstIndex:Bt}=wt,{isArray:It}=Array,Vt=["ansi","ansi","ansi256","ansi16m"],Dt=Object.create(null);class Nt{constructor(t){return $t(t)}}const $t=t=>{const e={};return((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=At?At.level:0;t.level=void 0===e.level?r:e.level})(e,t),e.template=(...t)=>Gt(e.template,...t),Object.setPrototypeOf(e,qt.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=Nt,e.template};function qt(t){return $t(t)}for(const[t,e]of Object.entries(ft))Dt[t]={get(){const r=Lt(this,Ht(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};Dt.visible={get(){const t=Lt(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};const Ut=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const t of Ut)Dt[t]={get(){const{level:e}=this;return function(...r){const n=Ht(ft.color[Vt[e]][t](...r),ft.color.close,this._styler);return Lt(this,n,this._isEmpty)}}};for(const t of Ut){Dt["bg"+t[0].toUpperCase()+t.slice(1)]={get(){const{level:e}=this;return function(...r){const n=Ht(ft.bgColor[Vt[e]][t](...r),ft.bgColor.close,this._styler);return Lt(this,n,this._isEmpty)}}}}const zt=Object.defineProperties(()=>{},{...Dt,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),Ht=(t,e,r)=>{let n,o;return void 0===r?(n=t,o=e):(n=r.openAll+t,o=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:o,parent:r}},Lt=(t,e,r)=>{const n=(...t)=>It(t[0])&&It(t[0].raw)?Yt(n,Gt(n,...t)):Yt(n,1===t.length?""+t[0]:t.join(" "));return Object.setPrototypeOf(n,zt),n._generator=t,n._styler=e,n._isEmpty=r,n},Yt=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(void 0===r)return e;const{openAll:n,closeAll:o}=r;if(-1!==e.indexOf(""))for(;void 0!==r;)e=Rt(e,r.close,r.open),r=r.parent;const s=e.indexOf("\n");return-1!==s&&(e=Bt(e,o,n,s)),n+e+o};let Ft;const Gt=(t,...e)=>{const[r]=e;if(!It(r)||!It(r.raw))return e.join(" ");const n=e.slice(1),o=[r.raw[0]];for(let t=1;t<r.length;t++)o.push(String(n[t-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[t]));return void 0===Ft&&(Ft=Ct),Ft(t,o.join(""))};Object.defineProperties(qt.prototype,Dt);const Wt=qt();Wt.supportsColor=At,Wt.stderr=qt({level:Tt?Tt.level:0}),Wt.stderr.supportsColor=Tt;let Kt={},Jt=(t=21)=>{let e=(t=>{let e=Kt[t];return e||(e=Buffer.allocUnsafe(t),t<=255&&(Kt[t]=e)),o.randomFillSync(e)})(t),r="";for(;t--;)r+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[63&e[t]];return r};const Qt=(...t)=>{let e=t;do{e=e.reduce((t,e)=>X(e)?[...t,...e]:[...t,e],[])}while(e.some(X));return e};function Xt(t,e){return Z(t)?(t=>{do{t=Qt(t)}while(t.some(X));return t})(e).reduce((e,r)=>(e[r]=t[r],e),{}):{}}class Zt{constructor(t,e){this.value=e,this.lastValue=t.value,this.stream=t,this.id="change_"+Jt()}get redundant(){return!this.stream._compare(this.stream.value,this.nextValue)}get name(){return this.stream.name}toJSON(t){const e={id:t||this.id,value:this.value,lastValue:this.lastValue,nextValue:this.nextValue};return this.thrown&&(e.thrown=this.thrown.message?this.thrown.message:this.thrown,e.thrownAt=this.thrownAt),this.stream.errors.length&&(e.errors=[...this.stream.errors]),(this.stream.notes&&!X(this.stream.notes)||X(this.stream.notes)&&this.stream.notes.length)&&(e.notes=this.stream.notes),e}get thrownString(){return this.thrown.reduce((t,e)=>[...t,e.message],[]).join(",")}}e.proppify(Zt).addProp("stream").addProp("value").addProp("thrown").addProp("thrownAt","","string").addProp("nextValue",W).addProp("lastValue").addProp("notes");class te{constructor(t=W){this.id=(()=>{const t=`${Math.random()} ${Date.now()}`.replace(/[\D]/g,"");let e="";return t.split("").forEach(t=>{Math.random()>.5?e+=t:e=t+e,e.length%4||(e+="-")}),e})(),t!==W&&this.subject.next(t)}complete(){this.subSets.forEach(t=>t.complete()),this.subSets.clear(),this.done=!0}}e.proppify(te).addProp("subject",()=>new C(null)).addProp("subSets",()=>new Set).addProp("done",!1,"boolean");class ee extends te{constructor(t,e,r=null,n=K){super(r),this.name=e,this.store=t,this.pre=n,this.next(r),this._initialized=!0}get value(){return this.subject.value}subscribe(...t){const e=this.subject.subscribe(...t);return this.subSets.add(e),e}complete(){this.subject.complete(),this.changes.complete(),super.complete()}next(t){if(this.done)return;this._reset();const e=new Zt(this,t);try{e.nextValue=this.pre(t,this)}catch(t){e.thrown=t,t.change=e,e.thrownAt="pre"}if(e.thrown||this.subject.next(e.nextValue),Object.assign(e,Xt(this,"errors")),this.store.next(e),e.thrown)throw e.thrown}_reset(){this.errors=[],this.notes=null}}e.proppify(ee).addProp("errors",()=>[],"array").addProp("notes",null).addProp("pre",K,"function").addProp("changes",()=>new M);const re=t=>tt(t)?t.charAt(0).toLowerCase()+t.slice(1):"",ne=/^set(.+)$/i;class oe extends te{constructor(t={},e={}){super(),this._blockCountStream=new C(0),this.addStreams(t),this.addActions(e)}addActions(t){if(!Z(t))throw new Error("non-obj set to addActions");Object.keys(t).forEach(e=>{this.actions.set(e,(...r)=>t[e](this,...r))})}block(t){}get subjectChoked(){var t,e;return this.__subjectChoked||(this.__subjectChoked=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return A(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&p(t[0])&&(t=t[0]),R(t,n).lift(new L(r))}(this._pendingCountSubject,super.subject).pipe((t=([t])=>!t,function(r){return r.lift(new F(t,e))}),B(([t,e])=>e),et())),this.__subjectChoked}addStreams(t){if(!Z(t))throw new Error("non-obj set to addStreams");return Object.keys(t).forEach(e=>{const r=t[e];Array.isArray(r)&&Q(r[1])?this._makeStream(e,...r):this._makeStream(e,r)}),this.next(),this}_makeStream(t,e,r=K){this.streams.set(t,new ee(this,t,e,r)),delete this._do}property(...t){return this.stream(...t)}stream(t,e,r){return this._makeStream(t,e,r),this.next(),this}subscribe(...t){const e=this.subjectChoked.subscribe(...t);return this.subSets.add(e),e}complete(){this.subject.complete(),this.streams.forEach(t=>t.complete()),super.complete()}next(t){if(t){if(this._pending.add(t),t instanceof Zt&&t.thrown)return;this._update(t)}this.broadcast()}updateStream(t,e){if(this.streams.has(t))try{this.streams.get(t).next(e)}catch(t){return t}else{if(ne.test(t)){const r=t.match(ne)[1];return this.updateStream(re(r),e)}{const r=re(t);if(this.stream.has(r))return this.updateStream(t,r,e)}}return!1}_getDo(){const t={};return this.streams.keys().forEach(e=>{var r;t["set"+(r=e,tt(r)?r.charAt(0).toUpperCase()+r.slice(1):"")]=t=>this.updateStream(e,t)}),t}virtual(t,e,...r){const n=flatten(r);let o;const s=()=>{try{return e(this.values(n),this)}catch(t){const e=new Zt(o,W);e.thrown=t,e.thrownAt="virtual",t.change=e,this.next(e)}};o=new C(s()).pipe(B(s),et()),this.streams.set(t,o),this.changes.subscribe(t=>{t instanceof Zt&&n.include(t.name)&&o.next()})}_doProxy(){return new Proxy(this,{get:(t,e)=>r=>t.updateStream(e,r)})}get do(){return this._do||("undefined"==typeof Proxy?this._do||(this._do=this._getDo()):this._do=this._doProxy()),this._do}broadcast(){const t=this.values();this.subject.next(t)}_update(t){this._push(t),this.changes.next(t),this._pop(t)}_pop(t){this._pending.delete(t),this._pendingCountSubject.next(this._pending.size)}_push(t){this._pending.add(t),this._pendingCountSubject.next(this._pending.size)}get value(){return this.subject.value}values(t=null){const e={};return this.streams.forEach((r,n)=>{X(t)&&!t.includes(n)||Q(t)&&!t(r,n)||(e[n]=r.value)}),e}}e.proppify(oe).addProp("actions",()=>new Map).addProp("changes",new M).addProp("_pending",()=>new Set).addProp("_pendingCountSubject",()=>new C(0).pipe(B(t=>0===t?0:1),et())).addProp("streams",()=>new Map);class se{constructor(t){this.subjectBlock=t}complete(){this.subjectBlock.blockDone(this)}}class ie{block(){const t=new se(this);return this.blocks.add(t),this.update(),t}blockDone(t){this.blocks.delete(t),this.update()}do(t){const e=this.block(),r=[];try{r[1]=t(e)}catch(t){r[0]=t}return e.complete(),r}update(){this.subject.next(this.blocks.size)}}return e.proppify(ie).addProp("subject",()=>new C(0).pipe(et())).addProp("blocks",()=>new Set),{validators:J,Stream:ee,ValueStore:oe,ABSENT:W,SubjectBlock:ie,Change:Zt}}));

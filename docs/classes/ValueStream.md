<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## ValueStream

An observable for a single item.
Provides enahnced observaation of change sequenced through stages, actions, and observation of action.
Note - this class mimics an Observable by routing a host of properties on its valueSubject (a BehaviorSubject)
(isStopped, value, hasError, thrownError)
and methods
(subscribe, pipe)
to its changeSubject. This split is because the changeSubject
decorates the valueSubject with a muffler that reduces mid-process emissions.

### Parameters

-   `initial` **any**  (optional, default `null`)
-   `config` **[Object][1]**  (optional, default `{}`)

### extend

Sets the configuration of actions and stages.
while called on initialization,
can be called at any point to configure or extend the stream.
note - configuration also accepts a Msp; and all properties are optional.

#### Parameters

-   `config` **[Object][1]** 
    -   `config.actions` **([Object][1] \| [Map][2])** a set of functions that act on the store; see action(..)
    -   `config.nextStages` **\[scalar]** a set of stages that all value updates (next)
                          will pass through. see setStages
    -   `config.defaultStages` **\[scalar]** a set of stages that all events
                          that are not specifically described will pass through.
    -   `config.actionStages` **([Object][1] \| [Map][2])** a set of stages for each action specific to that action

Returns **[ValueStream][3]** 

### next

this merges values into the values stream.

#### Parameters

-   `value` **any** 

Returns **Change** 

### on

observes all change flow for a particular subset of events

#### Parameters

-   `condition` **([String][4] \| [Object][1] \| [function][5])** which set of changes to observe
    -   `condition.action` **[String][4]** which action events to care about
    -   `condition.stage` **scalar** which stage of updates to care about
-   `listener` **[function][5]** what to recieve the event with.
                     Note - all errors thrown by the listener will funnel into the change.

Returns **Subscription** 

### setDefaultStages

set the stages all updates and actions will go through
unless they have a custom stage definition.
 note - all stages must:
   1\. begin with STAGE_BEGIN,
   2\. end with STAGE_END,
   3\. contain STAGE_PROCESS (between those two stages.
   any other additional stages is up to the users' needs.
stages can be strings or Symbols -- and possibly other things
but those two types are advised.

#### Parameters

-   `list` **\[scalar]** 

Returns **[ValueStream][3]** 

### setNextStages

Set the stages that all updates(next) go through.
See setDefaultStages for expanded stage detail.

#### Parameters

-   `stages` **\[scalar]** 

Returns **[ValueStream][3]** 

### setStages

Sets the stage for an action.
See setDefaultStages for expanded stage detail.

#### Parameters

-   `action` **[String][4]** 
-   `stages` **\[Scalar]** 

Returns **[ValueStream][3]** 

### stagesFor

returns the stages that a given action will trigger.

#### Parameters

-   `action` **[String][4]** 

Returns **\[Scalar]** 

### preprocess

A shorthand for adding a listener to the initial update of the stream.
Note - gets the changes' value, not the change itself.
The result of the function updates the value updates the changes' value,
and the value that is passed to subsequent listeners.

#### Parameters

-   `fn` **[function][5]** 

Returns **[ValueStream][3]** (self)

### changeSubject

a change-bound version of the value subject.

Returns **Observable&lt;any>** 

### addActions

adds one or more actions to the actions collection.

#### Parameters

-   `obj`  

Returns **[ValueStream][3]** 

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map

[3]: #valuestream

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function
